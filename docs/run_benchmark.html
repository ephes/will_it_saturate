---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "06_run_benchmark.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 06_run_benchmark.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">will_it_saturate.core</span> <span class="kn">import</span> <span class="n">Benchmark</span>
<span class="kn">from</span> <span class="nn">will_it_saturate.server</span> <span class="kn">import</span> <span class="n">FastAPIUvicornServer</span><span class="p">,</span> <span class="n">NginxDockerServer</span>
<span class="kn">from</span> <span class="nn">will_it_saturate.client</span> <span class="kn">import</span> <span class="n">HttpxClient</span><span class="p">,</span> <span class="n">AioHttpClient</span><span class="p">,</span> <span class="n">WrkClient</span>
<span class="kn">from</span> <span class="nn">will_it_saturate.persistence</span> <span class="kn">import</span> <span class="n">SqliteRepository</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">byte</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">gigabit</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">**</span> <span class="mi">9</span>
<span class="n">bandwidth</span> <span class="o">=</span> <span class="n">gigabit</span> <span class="o">/</span> <span class="n">byte</span>

<span class="c1"># file_sizes = [10 ** 7, 10 ** 6]</span>
<span class="n">file_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span> <span class="o">**</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">10</span> <span class="o">**</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span> <span class="o">**</span> <span class="mi">5</span><span class="p">]</span>
<span class="c1"># file_sizes = [10 ** 7]</span>

<span class="n">benchmark</span> <span class="o">=</span> <span class="n">Benchmark</span><span class="p">(</span>
    <span class="n">bandwidth</span><span class="o">=</span><span class="n">bandwidth</span><span class="p">,</span>
    <span class="n">duration</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">file_sizes</span><span class="o">=</span><span class="n">file_sizes</span><span class="p">,</span>
    <span class="n">servers</span><span class="o">=</span><span class="p">[</span><span class="n">NginxDockerServer</span><span class="p">(),</span> <span class="n">FastAPIUvicornServer</span><span class="p">()],</span>
    <span class="c1"># servers=[FastAPIUvicornServer()],</span>
    <span class="n">clients</span><span class="o">=</span><span class="p">[</span><span class="n">HttpxClient</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;httpx&quot;</span><span class="p">),</span> <span class="n">AioHttpClient</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;aiohttp&quot;</span><span class="p">),</span> <span class="n">WrkClient</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;wrk&quot;</span><span class="p">)],</span>
    <span class="c1"># clients=[HttpxClient(name=&quot;httpx&quot;)],</span>
    <span class="n">repository</span><span class="o">=</span><span class="n">SqliteRepository</span><span class="o">.</span><span class="n">build_repository</span><span class="p">(</span><span class="s2">&quot;results.db&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">benchmark</span><span class="o">.</span><span class="n">create_rows</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="c1"># dont_test</span>

<span class="n">benchmark</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>server: name=&#39;nginx/docker&#39; docker_name=&#39;wis-nginx&#39; port=8000 data_root=&#39;data&#39; subprocess_kwargs={&#39;shell&#39;: True, &#39;capture_output&#39;: True, &#39;text&#39;: True}


c44ba68a22ac8eaf80f0ca8a3d68b342b183d7d5e5f28bb35b3e221ffdf17d71

measure
measured:  server=&#39;nginx/docker&#39; client=&#39;httpx&#39; file_size=10000000 elapsed=6.946676051999999 complete_size=375000000
measure
measured:  server=&#39;nginx/docker&#39; client=&#39;httpx&#39; file_size=1000000 elapsed=7.48612826 complete_size=375000000
measure
measured:  server=&#39;nginx/docker&#39; client=&#39;httpx&#39; file_size=100000 elapsed=17.845976112000002 complete_size=375000000
measured:  server=&#39;nginx/docker&#39; client=&#39;aiohttp&#39; file_size=10000000 elapsed=5.616786167 complete_size=375000000
measured:  server=&#39;nginx/docker&#39; client=&#39;aiohttp&#39; file_size=1000000 elapsed=5.288216186 complete_size=375000000
measured:  server=&#39;nginx/docker&#39; client=&#39;aiohttp&#39; file_size=100000 elapsed=13.828409002 complete_size=375000000
measured:  server=&#39;nginx/docker&#39; client=&#39;wrk&#39; file_size=10000000 elapsed=0.04481734099999812 complete_size=375000000
measured:  server=&#39;nginx/docker&#39; client=&#39;wrk&#39; file_size=1000000 elapsed=3.491286452000054 complete_size=375000000
measured:  server=&#39;nginx/docker&#39; client=&#39;wrk&#39; file_size=100000 elapsed=6.891681769999991 complete_size=375000000
c44ba68a22ac

wis-nginx

server: name=&#39;fastAPI/uvicorn&#39;
already measured:  server=&#39;fastAPI/uvicorn&#39; client=&#39;httpx&#39; file_size=10000000 elapsed=8.474029471 complete_size=375000000
already measured:  server=&#39;fastAPI/uvicorn&#39; client=&#39;httpx&#39; file_size=1000000 elapsed=8.632427269 complete_size=375000000
already measured:  server=&#39;fastAPI/uvicorn&#39; client=&#39;httpx&#39; file_size=100000 elapsed=31.145064863 complete_size=375000000
measured:  server=&#39;fastAPI/uvicorn&#39; client=&#39;aiohttp&#39; file_size=10000000 elapsed=6.419917942 complete_size=375000000
measured:  server=&#39;fastAPI/uvicorn&#39; client=&#39;aiohttp&#39; file_size=1000000 elapsed=6.041711235 complete_size=375000000
measured:  server=&#39;fastAPI/uvicorn&#39; client=&#39;aiohttp&#39; file_size=100000 elapsed=8.978315902999999 complete_size=375000000
measured:  server=&#39;fastAPI/uvicorn&#39; client=&#39;wrk&#39; file_size=10000000 elapsed=0.030712458000039078 complete_size=375000000
measured:  server=&#39;fastAPI/uvicorn&#39; client=&#39;wrk&#39; file_size=1000000 elapsed=3.524254887999973 complete_size=375000000
measured:  server=&#39;fastAPI/uvicorn&#39; client=&#39;wrk&#39; file_size=100000 elapsed=10.08702094399996 complete_size=375000000
CPU times: user 143 ms, sys: 190 ms, total: 332 ms
Wall time: 2min 52s
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">benchmark</span><span class="o">.</span><span class="n">results_frame</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>server</th>
      <th>client</th>
      <th>file_size</th>
      <th>elapsed</th>
      <th>complete_size</th>
      <th>file_size_h</th>
      <th>bytes_per_second</th>
      <th>bytes_per_second_h</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>nginx/docker</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>6.946676</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>5.398265e+07</td>
      <td>51.48MB</td>
    </tr>
    <tr>
      <th>1</th>
      <td>nginx/docker</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>7.486128</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>5.009265e+07</td>
      <td>47.77MB</td>
    </tr>
    <tr>
      <th>2</th>
      <td>nginx/docker</td>
      <td>httpx</td>
      <td>100000</td>
      <td>17.845976</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>2.101314e+07</td>
      <td>20.04MB</td>
    </tr>
    <tr>
      <th>3</th>
      <td>nginx/docker</td>
      <td>aiohttp</td>
      <td>10000000</td>
      <td>5.616786</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>6.676416e+07</td>
      <td>63.67MB</td>
    </tr>
    <tr>
      <th>4</th>
      <td>nginx/docker</td>
      <td>aiohttp</td>
      <td>1000000</td>
      <td>5.288216</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>7.091238e+07</td>
      <td>67.63MB</td>
    </tr>
    <tr>
      <th>5</th>
      <td>nginx/docker</td>
      <td>aiohttp</td>
      <td>100000</td>
      <td>13.828409</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>2.711809e+07</td>
      <td>25.86MB</td>
    </tr>
    <tr>
      <th>6</th>
      <td>nginx/docker</td>
      <td>wrk</td>
      <td>10000000</td>
      <td>0.044817</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>8.367297e+09</td>
      <td>7.79GB</td>
    </tr>
    <tr>
      <th>7</th>
      <td>nginx/docker</td>
      <td>wrk</td>
      <td>1000000</td>
      <td>3.491286</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>1.074103e+08</td>
      <td>102.43MB</td>
    </tr>
    <tr>
      <th>8</th>
      <td>nginx/docker</td>
      <td>wrk</td>
      <td>100000</td>
      <td>6.891682</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>5.441342e+07</td>
      <td>51.89MB</td>
    </tr>
    <tr>
      <th>9</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>8.474029</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>4.425286e+07</td>
      <td>42.2MB</td>
    </tr>
    <tr>
      <th>10</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>8.632427</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>4.344085e+07</td>
      <td>41.43MB</td>
    </tr>
    <tr>
      <th>11</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>100000</td>
      <td>31.145065</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>1.204043e+07</td>
      <td>11.48MB</td>
    </tr>
    <tr>
      <th>12</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>10000000</td>
      <td>6.419918</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>5.841196e+07</td>
      <td>55.71MB</td>
    </tr>
    <tr>
      <th>13</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>1000000</td>
      <td>6.041711</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>6.206851e+07</td>
      <td>59.19MB</td>
    </tr>
    <tr>
      <th>14</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>100000</td>
      <td>8.978316</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>4.176730e+07</td>
      <td>39.83MB</td>
    </tr>
    <tr>
      <th>15</th>
      <td>fastAPI/uvicorn</td>
      <td>wrk</td>
      <td>10000000</td>
      <td>0.030712</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>1.221003e+10</td>
      <td>11.37GB</td>
    </tr>
    <tr>
      <th>16</th>
      <td>fastAPI/uvicorn</td>
      <td>wrk</td>
      <td>1000000</td>
      <td>3.524255</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>1.064055e+08</td>
      <td>101.48MB</td>
    </tr>
    <tr>
      <th>17</th>
      <td>fastAPI/uvicorn</td>
      <td>wrk</td>
      <td>100000</td>
      <td>10.087021</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>3.717649e+07</td>
      <td>35.45MB</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">benchmark</span><span class="o">.</span><span class="n">results_frame</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>server</th>
      <th>client</th>
      <th>file_size</th>
      <th>elapsed</th>
      <th>complete_size</th>
      <th>file_size_h</th>
      <th>bytes_per_second</th>
      <th>bytes_per_second_h</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>nginx/docker</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>4.078826</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>9.193822e+07</td>
      <td>87.68MB</td>
    </tr>
    <tr>
      <th>1</th>
      <td>nginx/docker</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>4.094941</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>9.157641e+07</td>
      <td>87.33MB</td>
    </tr>
    <tr>
      <th>2</th>
      <td>nginx/docker</td>
      <td>httpx</td>
      <td>100000</td>
      <td>9.490039</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>3.951512e+07</td>
      <td>37.68MB</td>
    </tr>
    <tr>
      <th>3</th>
      <td>nginx/docker</td>
      <td>aiohttp</td>
      <td>10000000</td>
      <td>4.257249</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>8.808504e+07</td>
      <td>84.0MB</td>
    </tr>
    <tr>
      <th>4</th>
      <td>nginx/docker</td>
      <td>aiohttp</td>
      <td>1000000</td>
      <td>4.188980</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>8.952061e+07</td>
      <td>85.37MB</td>
    </tr>
    <tr>
      <th>5</th>
      <td>nginx/docker</td>
      <td>aiohttp</td>
      <td>100000</td>
      <td>5.244983</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>7.149690e+07</td>
      <td>68.18MB</td>
    </tr>
    <tr>
      <th>6</th>
      <td>nginx/docker</td>
      <td>wrk</td>
      <td>10000000</td>
      <td>0.025783</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>1.454439e+10</td>
      <td>13.55GB</td>
    </tr>
    <tr>
      <th>7</th>
      <td>nginx/docker</td>
      <td>wrk</td>
      <td>1000000</td>
      <td>2.590647</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>1.447515e+08</td>
      <td>138.05MB</td>
    </tr>
    <tr>
      <th>8</th>
      <td>nginx/docker</td>
      <td>wrk</td>
      <td>100000</td>
      <td>4.566480</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>8.212015e+07</td>
      <td>78.32MB</td>
    </tr>
    <tr>
      <th>9</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>5.883059</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>6.374235e+07</td>
      <td>60.79MB</td>
    </tr>
    <tr>
      <th>10</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>5.807421</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>6.457256e+07</td>
      <td>61.58MB</td>
    </tr>
    <tr>
      <th>11</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>100000</td>
      <td>10.690709</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>3.507719e+07</td>
      <td>33.45MB</td>
    </tr>
    <tr>
      <th>12</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>10000000</td>
      <td>6.204373</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>6.044124e+07</td>
      <td>57.64MB</td>
    </tr>
    <tr>
      <th>13</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>1000000</td>
      <td>5.484291</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>6.837712e+07</td>
      <td>65.21MB</td>
    </tr>
    <tr>
      <th>14</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>100000</td>
      <td>8.731317</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>4.294885e+07</td>
      <td>40.96MB</td>
    </tr>
    <tr>
      <th>15</th>
      <td>fastAPI/uvicorn</td>
      <td>wrk</td>
      <td>10000000</td>
      <td>0.011826</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>3.170894e+10</td>
      <td>29.53GB</td>
    </tr>
    <tr>
      <th>16</th>
      <td>fastAPI/uvicorn</td>
      <td>wrk</td>
      <td>1000000</td>
      <td>3.315490</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>1.131055e+08</td>
      <td>107.87MB</td>
    </tr>
    <tr>
      <th>17</th>
      <td>fastAPI/uvicorn</td>
      <td>wrk</td>
      <td>100000</td>
      <td>10.064795</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>3.725858e+07</td>
      <td>35.53MB</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">benchmark</span><span class="o">.</span><span class="n">results_frame</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>server</th>
      <th>client</th>
      <th>file_size</th>
      <th>elapsed</th>
      <th>complete_size</th>
      <th>file_size_h</th>
      <th>bytes_per_second</th>
      <th>bytes_per_second_h</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>5.920403</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>6.334028e+07</td>
      <td>60.41MB</td>
    </tr>
    <tr>
      <th>1</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>5.825266</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>6.437474e+07</td>
      <td>61.39MB</td>
    </tr>
    <tr>
      <th>2</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>100000</td>
      <td>10.815824</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>3.467142e+07</td>
      <td>33.07MB</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">benchmark</span><span class="o">.</span><span class="n">results_frame</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>server</th>
      <th>client</th>
      <th>file_size</th>
      <th>elapsed</th>
      <th>complete_size</th>
      <th>file_size_h</th>
      <th>bytes_per_second</th>
      <th>bytes_per_second_h</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>5.920403</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>6.334028e+07</td>
      <td>60.41MB</td>
    </tr>
    <tr>
      <th>1</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>5.825266</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>6.437474e+07</td>
      <td>61.39MB</td>
    </tr>
    <tr>
      <th>2</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>100000</td>
      <td>10.815824</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>3.467142e+07</td>
      <td>33.07MB</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">benchmark</span><span class="o">.</span><span class="n">results_frame</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>server</th>
      <th>client</th>
      <th>file_size</th>
      <th>elapsed</th>
      <th>complete_size</th>
      <th>file_size_h</th>
      <th>bytes_per_second</th>
      <th>bytes_per_second_h</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>5.920403</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>6.334028e+07</td>
      <td>60.41MB</td>
    </tr>
    <tr>
      <th>1</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>5.825266</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>6.437474e+07</td>
      <td>61.39MB</td>
    </tr>
    <tr>
      <th>2</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>100000</td>
      <td>10.815824</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>3.467142e+07</td>
      <td>33.07MB</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">benchmark</span><span class="o">.</span><span class="n">results_frame</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>server</th>
      <th>client</th>
      <th>file_size</th>
      <th>elapsed</th>
      <th>complete_size</th>
      <th>platform</th>
      <th>file_size_h</th>
      <th>bytes_per_second</th>
      <th>bytes_per_second_h</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>6.037067</td>
      <td>375000000</td>
      <td>x86_64</td>
      <td>9.54MB</td>
      <td>6.211625e+07</td>
      <td>59.24MB</td>
    </tr>
    <tr>
      <th>1</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>6.055068</td>
      <td>375000000</td>
      <td>x86_64</td>
      <td>976.56KB</td>
      <td>6.193159e+07</td>
      <td>59.06MB</td>
    </tr>
    <tr>
      <th>2</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>100000</td>
      <td>29.964979</td>
      <td>375000000</td>
      <td>x86_64</td>
      <td>97.66KB</td>
      <td>1.251461e+07</td>
      <td>11.93MB</td>
    </tr>
    <tr>
      <th>3</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>10000000</td>
      <td>5.628240</td>
      <td>375000000</td>
      <td>x86_64</td>
      <td>9.54MB</td>
      <td>6.662829e+07</td>
      <td>63.54MB</td>
    </tr>
    <tr>
      <th>4</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>1000000</td>
      <td>5.327919</td>
      <td>375000000</td>
      <td>x86_64</td>
      <td>976.56KB</td>
      <td>7.038395e+07</td>
      <td>67.12MB</td>
    </tr>
    <tr>
      <th>5</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>100000</td>
      <td>8.444319</td>
      <td>375000000</td>
      <td>x86_64</td>
      <td>97.66KB</td>
      <td>4.440855e+07</td>
      <td>42.35MB</td>
    </tr>
    <tr>
      <th>6</th>
      <td>fastAPI/uvicorn</td>
      <td>wrk</td>
      <td>10000000</td>
      <td>2.772339</td>
      <td>375000000</td>
      <td>x86_64</td>
      <td>9.54MB</td>
      <td>1.352648e+08</td>
      <td>129.0MB</td>
    </tr>
    <tr>
      <th>7</th>
      <td>fastAPI/uvicorn</td>
      <td>wrk</td>
      <td>1000000</td>
      <td>7.399281</td>
      <td>375000000</td>
      <td>x86_64</td>
      <td>976.56KB</td>
      <td>5.068060e+07</td>
      <td>48.33MB</td>
    </tr>
    <tr>
      <th>8</th>
      <td>fastAPI/uvicorn</td>
      <td>wrk</td>
      <td>100000</td>
      <td>7.345828</td>
      <td>375000000</td>
      <td>x86_64</td>
      <td>97.66KB</td>
      <td>5.104939e+07</td>
      <td>48.68MB</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">benchmark</span><span class="o">.</span><span class="n">results_frame</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>server</th>
      <th>client</th>
      <th>file_size</th>
      <th>elapsed</th>
      <th>complete_size</th>
      <th>file_size_h</th>
      <th>bytes_per_second</th>
      <th>bytes_per_second_h</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>6.212713</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>6.036010e+07</td>
      <td>57.56MB</td>
    </tr>
    <tr>
      <th>1</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>7.464866</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>5.023533e+07</td>
      <td>47.91MB</td>
    </tr>
    <tr>
      <th>2</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>100000</td>
      <td>30.550003</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>1.227496e+07</td>
      <td>11.71MB</td>
    </tr>
    <tr>
      <th>3</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>10000000</td>
      <td>6.143259</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>6.104252e+07</td>
      <td>58.21MB</td>
    </tr>
    <tr>
      <th>4</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>1000000</td>
      <td>5.936163</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>6.317212e+07</td>
      <td>60.25MB</td>
    </tr>
    <tr>
      <th>5</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>100000</td>
      <td>9.707379</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>3.863041e+07</td>
      <td>36.84MB</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">benchmark</span><span class="o">.</span><span class="n">results_frame</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>server</th>
      <th>client</th>
      <th>file_size</th>
      <th>elapsed</th>
      <th>complete_size</th>
      <th>file_size_h</th>
      <th>bytes_per_second</th>
      <th>bytes_per_second_h</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>7.621326</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>4.920404e+07</td>
      <td>46.92MB</td>
    </tr>
    <tr>
      <th>1</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>8.129900</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>4.612603e+07</td>
      <td>43.99MB</td>
    </tr>
    <tr>
      <th>2</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>100000</td>
      <td>31.303474</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>1.197950e+07</td>
      <td>11.42MB</td>
    </tr>
    <tr>
      <th>3</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>10000000</td>
      <td>8.092180</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>4.634103e+07</td>
      <td>44.19MB</td>
    </tr>
    <tr>
      <th>4</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>1000000</td>
      <td>6.438935</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>5.823944e+07</td>
      <td>55.54MB</td>
    </tr>
    <tr>
      <th>5</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>100000</td>
      <td>9.158107</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>4.094732e+07</td>
      <td>39.05MB</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">benchmark</span><span class="o">.</span><span class="n">results_frame</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>server</th>
      <th>client</th>
      <th>file_size</th>
      <th>elapsed</th>
      <th>complete_size</th>
      <th>file_size_h</th>
      <th>bytes_per_second</th>
      <th>bytes_per_second_h</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>10000000</td>
      <td>3.325116</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>1.127780e+08</td>
      <td>107.55MB</td>
    </tr>
    <tr>
      <th>1</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>1000000</td>
      <td>3.553887</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>1.055183e+08</td>
      <td>100.63MB</td>
    </tr>
    <tr>
      <th>2</th>
      <td>fastAPI/uvicorn</td>
      <td>httpx</td>
      <td>100000</td>
      <td>6.097791</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>6.149768e+07</td>
      <td>58.65MB</td>
    </tr>
    <tr>
      <th>3</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>10000000</td>
      <td>3.505289</td>
      <td>375000000</td>
      <td>9.54MB</td>
      <td>1.069812e+08</td>
      <td>102.03MB</td>
    </tr>
    <tr>
      <th>4</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>1000000</td>
      <td>3.478566</td>
      <td>375000000</td>
      <td>976.56KB</td>
      <td>1.078030e+08</td>
      <td>102.81MB</td>
    </tr>
    <tr>
      <th>5</th>
      <td>fastAPI/uvicorn</td>
      <td>aiohttp</td>
      <td>100000</td>
      <td>4.947546</td>
      <td>375000000</td>
      <td>97.66KB</td>
      <td>7.579515e+07</td>
      <td>72.28MB</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

